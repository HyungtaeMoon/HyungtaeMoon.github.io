---
layout: post
title:  "Fork 한 저장소에 contributions가 되지 않는 현상"
date:   2018-10-03 08:42:31
author: Moon Hyungtae
categories: gitHub
tags:	gitHub
cover:  "/assets/instacode.png"
---

jekyll 블로그는 다른 사람들이 만든 테마를 자신의 저장소에 저장하여 블로그를 관리하는 사람이 많다. 이렇게하는 이유는 현재 해야하는 일이 포스팅과 개인 프로젝트 관리에 보다 우선순위를 두기도 하고, 실제로 테마를 만들만한 실력이 부족해서 위와 같은 방법을 이용하기도 한다.(물론 나 역시도 테마를 만들만한 엄두 자체가 나지 못하기 때문에 테마를 가져와서 사용하는 것이 필수가 되었다.)

마음에 드는 테마가 있어 `Fork`를 해서 포스팅을 하는데 문제가 발생했다. 처음에는 SSH Key 를 등록했는데 블로그를 push 할 때마다 비밀번호를 입력하라고 하길래 저장소를 인식하지 못하는가? 라는 생각을 해서 SSH Key 를 새로 발급받아 등록했지만 문제가 해결되지 않았다.

**여전히 문제는 Fork 한 저장소는 내 저장소에서 `Commit` 에는 반영되지만 잔디(contributions)에는 반영되지 않는다는 것이었다**

물론 이 방법이 정확한 정답이 아닐 수는 있지만 해결이 되었으니 참고만 하기 바란다.


**첫번째 확인**
`.git/config` 에 내 계정이 등록되었는지 fork한 다른 사람의 계정이 등록되었는지 확인해본다.

```
.git/config

[remote "origin"]
        url = git@내 저장소명
        fetch = +refs/heads/*:refs/remotes/origin/*
```

Fork 해 온 다른 사람의 저장소가 아니라 **내 저장소로 지정되어있음을** 확인 했다.

**두번째 확인**
Fork를 했기 때문에 Fork의 원래 저장소 주인이 Pull Request 를 해야만 반영되는 것일까? 라는 생각을 했다.

이를 위해 아래와 같은 생각을 하고 해결을 했다.

- 나의 저장소에 내가 쓴 글이 반영될 수 있도록
- 새로운 저장소를 만들어
- 기존의 저장소 주소를 clone 해준다.
- 그리고 새로운 저장소에 push 를 해서 contributions 에 반영되는지 확인

```python
# 나의 GitHub 에서 새로운 저장소를 생성

# 새로운 저장소에 Fork해 온 저장소를 clone 해준다
git clone git@repository 주소

# origin 의 저장소가 내 저장소인지 확인
git remote -v

# 맞으면 push 를 해준다
git push -u origin master
```

다행히 새로운 저장소에는 내가 origin 으로 인식되어 바로바로 contributions에 반영되는 것을 확인할 수 있었다.

**그러나 추가 문제가 발생했다**

push 를 하고 내 저장소를 보았더니 "귀하의 의존성에 잠재적인 보안 취약점이 있음을 발견했습니다" 라는 문구와 함께 친절하게 "Gemfile.lock에 정의 된 종속성 중 일부는 알려진 보안 취약성이 있으므로 업데이트해야 합니다." 라고 알려준다.

**추가 문제를 해결했다**

Gem 의존성 관리를 위해 bundler 를 사용하는데, 이 bundle 을 업데이트해주면 해결이 될 것 같아 `bundle update`를 해주어 최신판으로 업데이트 시켜주었더니 해결이 되었다.

`git diff`를 통해 확인할 수 있는데, Gemfile.lock 에 상당히 많은 업데이트가 진행된 것을 확인할 수 있다.

다시 `git push -u origin master` 를 해주면 의존성과 관련한 GitHub의 안내 메시지가 사라진 것이 확인된다.

GitHub 에서는 특정 종속성의 취약점을 보고하고 영향을 받는 저장소에 보안 경고를 사용자가 확인할 수 있도록 띄워준다. 가급적이면 의존성과 관련한 모든 파일들은 최신버전으로 유지하여 문제가 발생하지 않도록 신경써야 할 것 같다.
